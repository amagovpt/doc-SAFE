{"openapi":"3.0.1","info":{"title":"SAFE - Citizen Account Management Service","description":"Services for Citizen Account Management","version":"1.0.0-SNAPSHOT"},"servers":[{"url":"http://localhost:8071","description":"Generated server url"}],"paths":{"/signatureAccount/updateToken":{"post":{"tags":["Signature Account Management Service"],"summary":"Update Account Token","description":"Update Account Token","operationId":"updateToken","parameters":[{"name":"SAFEAuthorization","in":"header","required":true,"schema":{"pattern":"^Bearer .*$","type":"string"}},{"name":"Authorization","in":"header","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateTokenRequestDto"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResultDto"},"examples":{"Internal Server Error":{"description":"Internal Server Error","value":{"error":"Internal Server Error","error_description":"Internal Server Error"}}}}}},"200":{"description":"Ok","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateTokenResponseDto"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResultDto"},"examples":{"Generic Unauthorized":{"description":"Generic Unauthorized","value":{"error":"Unauthorized","error_description":"Unauthorized"}}}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResultDto"},"examples":{"Generic Bad Request":{"description":"Generic Bad Request","value":{"error":"Bad Request","error_description":"Bad Request"}},"Invalid Bearer":{"description":"Invalid Bearer","value":{"error":"Bad Request","error_description":"The request is missing a required parameter, includes an invalid parameter value, includes a parameter more than once, or is otherwise malformed."}},"Missing CredentialId":{"description":"Missing CredentialId","value":{"error":"Bad Request","error_description":"Missing (or invalid type) string parameter credentialID"}},"Invalid CredentialId":{"description":"Invalid CredentialId","value":{"error":"Bad Request","error_description":"Invalid parameter credentialID"}},"Missing ProcessId":{"description":"Missing ProcessId","value":{"error":"Bad Request","error_description":"Missing parameter processId"}},"Invalid ProcessId":{"description":"Invalid ProcessId","value":{"error":"Bad Request","error_description":"Invalid parameter processId"}},"Empty client name":{"description":"Empty client name","value":{"error":"Bad Request","error_description":"Empty client name"}},"Missing client data":{"description":"Missing client data","value":{"error":"Bad Request","error_description":"Missing (or invalid type) parameter clientData"}},"Expired token":{"description":"Expired token","value":{"error":"Bad Request","error_description":"The access or refresh token is expired or has been revoked"}}}}}}}}},"/signatureAccount/cancel":{"post":{"tags":["Signature Account Management Service"],"summary":"Citizen Account Cancelation","description":"Cancels an invoice signature account for the citizen","operationId":"cancelCitizenAccountWithJWT","parameters":[{"name":"SAFEAuthorization","in":"header","required":true,"schema":{"pattern":"^Bearer .*$","type":"string"}},{"name":"Authorization","in":"header","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CancelCitizenAccountRequestDto"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResultDto"},"examples":{"Internal Server Error":{"description":"Internal Server Error","value":{"error":"Internal Server Error","error_description":"Internal Server Error"}}}}}},"204":{"description":"No Content"},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResultDto"},"examples":{"Generic Unauthorized":{"description":"Generic Unauthorized","value":{"error":"Unauthorized","error_description":"Unauthorized"}}}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResultDto"},"examples":{"Generic Bad Request":{"description":"Generic Bad Request","value":{"error":"Bad Request","error_description":"Bad Request"}},"Invalid Bearer":{"description":"Invalid Bearer","value":{"error":"Bad Request","error_description":"The request is missing a required parameter, includes an invalid parameter value, includes a parameter more than once, or is otherwise malformed."}},"Missing CredentialId":{"description":"Missing CredentialId","value":{"error":"Bad Request","error_description":"Missing (or invalid type) string parameter credentialID"}},"Invalid CredentialId":{"description":"Invalid CredentialId","value":{"error":"Bad Request","error_description":"Invalid parameter credentialID"}},"Missing ProcessId":{"description":"Missing ProcessId","value":{"error":"Bad Request","error_description":"Missing parameter processId"}},"Invalid ProcessId":{"description":"Invalid ProcessId","value":{"error":"Bad Request","error_description":"Invalid parameter processId"}},"Empty client name":{"description":"Empty client name","value":{"error":"Bad Request","error_description":"Empty client name"}},"Missing client data":{"description":"Missing client data","value":{"error":"Bad Request","error_description":"Missing (or invalid type) parameter clientData"}},"Expired token":{"description":"Expired token","value":{"error":"Bad Request","error_description":"The access or refresh token is expired or has been revoked"}}}}}}}}}},"components":{"schemas":{"ClientDataRequestBaseDto":{"required":["clientName","processId"],"type":"object","properties":{"processId":{"pattern":"^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$","type":"string","example":"a015722c-456e-4abc-9efb-d774936ce749"},"clientName":{"type":"string","example":"clientTest"}}},"UpdateTokenRequestDto":{"required":["clientData","credentialID"],"type":"object","properties":{"clientData":{"$ref":"#/components/schemas/ClientDataRequestBaseDto"},"credentialID":{"pattern":"^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$","type":"string","example":"caeedd36-24cc-4a36-b855-dff6a80103f9"}}},"ErrorResultDto":{"required":["error","error_description"],"type":"object","properties":{"error":{"type":"string","example":"Bad Request"},"error_description":{"type":"string","example":"The request is missing a required parameter, includes an invalid parameter value, includes a parameter more than once, or is otherwise malformed."}}},"UpdateTokenResponseDto":{"required":["newAccessToken","newRefreshToken"],"type":"object","properties":{"newAccessToken":{"type":"string","example":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJTQUZFIiwic3ViIjoiQkkxMzgwMjM1MiIsImF1ZCI6IkJJMTM4MDIzNTI1MDAwMDc2NDBpbmZvWjEzIiwiaWF0IjoxNTk5MDY0NTM4LCJleHAiOjE1OTk0MjQ1MzgsInRva2VuR3VpZCI6IjUwOWNlZDI0LTVlZmMtNGRmZS05NTAwLWE5YTFjZGM1OWQ2ZSIsImFjY2Vzc1Rva2VuIjp0cnVlLCJzYWlkIjoiWW14aFlteGhkR1Z6ZEdVeCJ9.26hFnMe5fO_927G-vdH__a4fN2xlv1eP6LgA-pZ2jGA"},"newRefreshToken":{"type":"string","example":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJTQUZFIiwic3ViIjoiQkkxMzgwMjM1MiIsImF1ZCI6IkJJMTM4MDIzNTI1MDAwMDc2NDBpbmZvWjEzIiwiaWF0IjoxNTk5MDY0NTM4LCJleHAiOjE2MDE2NTY1MzgsInRva2VuR3VpZCI6IjMzNjdmNGQ2LTM5ZjMtNDk4Ni04ODhmLTNlYTA1Y2E5OWZhNiIsImFjY2Vzc1Rva2VuIjpmYWxzZSwic2FpZCI6IllteGhZbXhoZEdWemRHVXgifQ.5krFIqK3C_wQ7Y_rLuJCUkDjobCtN7knsIIHa3iFLsw"}}},"CancelCitizenAccountRequestDto":{"required":["clientData","credentialID"],"type":"object","properties":{"clientData":{"$ref":"#/components/schemas/ClientDataRequestBaseDto"},"credentialID":{"pattern":"^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$","type":"string","example":"caeedd36-24cc-4a36-b855-dff6a80103f9"}}}}}}